"0",""
"0","library(glmnet)"
"0","fit2<-glm(y~.-1, data = Sal1, family = ""binomial"")"
"0",""
"0","set.seed(1234)"
"0","x<-model.matrix(fit2)"
"0","x<-scale(x)"
"0","y<-as.matrix(Sal$y)"
"0","cv<-cv.glmnet(x,y,family='binomial') "
"0","lasso<-glmnet(x,y,family='binomial',lambda=cv$lambda.1se)"
"0","coef(lasso)"
"1","8 x 1 sparse Matrix of class ""dgCMatrix""
"
"1","             "
"1","       s0"
"1","
(Intercept)  "
"1"," 2.216971"
"1","
rankAssocProf"
"1"," 0.000000"
"1","
rankAsstProf "
"1"," .       "
"1","
rankProf     "
"1"," .       "
"1","
disciplineB  "
"1"," .       "
"1","
yrs.since.phd"
"1"," .       "
"1","
yrs.service  "
"1"," .       "
"1","
salary       "
"1"," .       "
"1","
"
"0","set.seed(1234)"
"0","k=10 "
"0","data1<-Sal1[sample(nrow(Sal1)),] "
"0","folds<-cut(seq(1:nrow(Sal1)),breaks=k,labels=F)"
"0","diags<-NULL"
"0","for(i in 1:k){"
"0"," train<-data1[folds!=i,] "
"0","  test<-data1[folds==i,]"
"0","  truth<-test$y"
"0","  "
"0","  fit<-glm(y~.,data=train,family=""binomial"")"
"0","  probs<-predict(fit,newdata = test,type=""response"")"
"0","  diags<-rbind(diags,class_diag(probs,truth))"
"0","}"
"0",""
"0","apply(diags,2,mean)"
"1","     acc "
"1","    sens "
"1","    spec "
"1","     ppv "
"1","     auc "
"1","
"
"1","0.901859 "
"1","1.000000 "
"1","0.000000 "
"1","0.901859 "
"1","0.606613 "
"1","
"
